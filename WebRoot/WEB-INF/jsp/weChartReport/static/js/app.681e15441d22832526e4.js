webpackJsonp([1],{F58X:function(t,i){},Mx6H:function(t,i){},NHnr:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=a("MVMM"),e={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var s=a("Z0/y")({name:"App"},e,!1,function(t){a("F58X")},null,null).exports,o=a("zO6J"),r={name:"ChartShow",props:["data","title","ind","i","biao","tongbi","str","xuan"],data:function(){return{mychart:"",tit:"GMV",option:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{bottom:"20%",left:"15%",right:"9%",top:"7%"},legend:{data:[{name:"",icon:"circle",textStyle:{color:"#fff"}},{name:"",icon:"circle",textStyle:{color:"#fff"}}],align:"left",bottom:"6%"},xAxis:[{type:"category",data:["03-01","03-02","03-03"],axisPointer:{type:"shadow",shadowStyle:{color:"rgba(6,19,30,.4)"}},axisLabel:{interval:0,show:!0,textStyle:{color:"#fff"}}}],yAxis:[{type:"value",axisLine:{show:!1},nameTextStyle:{color:"#fff"},axisLabel:{show:!0,textStyle:{color:"#fff"}}}],series:[{name:"",type:"bar",data:[5e3,5376,3727],barWidth:15,itemStyle:{emphasis:{barBorderRadius:30},normal:{color:"#277ace",barBorderRadius:[10,10,10,10]}}},{name:"",type:"bar",barGap:"-100%",barWidth:15,data:[3709,2417,755],itemStyle:{emphasis:{barBorderRadius:30},normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00f7e4"},{offset:1,color:"#0082c8"}]),barBorderRadius:[10,10,10,10]}}}]}}},methods:{echartsShow:function(){this.mychart=this.$echarts.init(document.getElementById("main"+this.i)),this.mychart.setOption(this.option)},changeOption:function(){var t=this,i=[],a=[],n=[],e={name:"单位：元",ming:"GMV",cheng:"收入"};this.data&&this.data.forEach(function(s){if(s.yewuxian_name)i.push(s.yewuxian_name);else if(s.region_name){var o="";o=s.region_name.length>2?s.region_name.substr(0,s.region_name.length-1):s.region_name,i.push(o)}switch(t.title.num){case 3:a.push(s.gmv),n.push(s.shouru),t.tit="GMV";break;case 1:a.push(s.shouru),n.push(s.maoli),e.ming="收入",e.cheng="毛利",t.tit="收入";break;case 2:a.push(s.maoli),n.push(s.shouru),e.ming="毛利",e.cheng="收入",t.tit="毛利";break;case 0:a.push(s.order_num),n=[],e.name="单位：单",e.ming="订单数",t.tit="订单数",e.cheng="",t.option.series[1].data=[],t.option.series[1].type="bar"}}),this.option.legend.data[0].name=e.ming,this.option.legend.data[1].name=e.cheng,this.option.xAxis[0].data=i,this.option.yAxis[0].name=e.name,this.option.series[0].name=e.ming,this.option.series[0].data=a,this.option.series[1].name=e.cheng,this.option.series[1].data=n,this.echartsShow()},changedanwei:function(){return this.title.num>0?"元":"单"},tiaoshuangyemian:function(){this.$router.push({name:"barDetail",params:{userId:{type:this.xuan,time:this.title.time,str:this.str}}})},gaibianwidth:function(){window.onresize=this.mychart.resize}},created:function(){console.log(this.tit)},mounted:function(){this.gaibianwidth()},watch:{data:function(){this.changeOption()}}},c={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"chartShow"},[a("div",{staticClass:"header-title"},[a("h3",[t._v(t._s(t.biao+t.tit+"分布"))]),t._v(" "),a("h4",[t._v(t._s(t.title.time))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3!==t.i,expression:"i!==3"}],staticClass:"title-btn"},[a("span",[a("i",{staticClass:"show1"},[t._v(t._s(t.tongbi.zhi1?t.tongbi.zhi1.toLocaleString("en-US"):0))]),t._v(t._s(t.changedanwei()))]),t._v(" "),a("span",{on:{click:t.tiaoshuangyemian}},[a("i",{staticClass:"show2",style:{color:t.tongbi.zhi2/1>0?"red":"green"}},[t._v(t._s(t.tongbi.zhi2+"%"))]),a("em",{class:t.title.show2/1>0?"iconfont icon-xiangshangjiantoucuxiao":"iconfont icon-jiantou",style:{color:t.tongbi.zhi2/1>0?"red":"green"}}),t._v(" "),a("em",{staticClass:"iconfont icon-jiantouyou"})])])]),t._v(" "),a("div",{staticClass:"canvas",staticStyle:{width:"100%",height:"4.6rem"},attrs:{id:"main"+t.i}})])},staticRenderFns:[]};var h={name:"ShowBar",props:["tiao","day","num"],components:{ChartShow:a("Z0/y")(r,c,!1,function(t){a("SfMx")},null,null).exports},data:function(){return{title:{num:0,time:""},str:"finance_ribao_daily_yetai",data:"",data1:"",data2:"",type:["pingtai","QDY","WLW"],ind:0,btns:["按业态","按城市"],biaoti:["平台业务","千丁云","物联网"],tongbi1:{zhi1:"",zhi2:""},tongbi2:{zhi1:"",zhi2:""},tongbi3:"",mingcheng:"order_num",xuan:"pingtai"}},methods:{getlocation:function(){"http://qddata.qdingnet.com"===location.origin?this.url=location.origin:this.url=location.origin+"/ds"},changestr:function(t){this.ind=t,1===t?(this.str="finance_ribao_daily_city",this.ind=1):0===t&&(this.str="finance_ribao_daily_yetai",this.ind=0),this.getData()},getData:function(){var t=this;this.getlocation(),this.type.forEach(function(i){t.$http.get(t.url+"/dataApiQuery/"+t.str,{params:{day:t.day,business_type:i}}).then(function(a){i===t.type[0]?(t.xuan=i,t.data=a.data.data):i===t.type[1]?(t.xuan=i,t.data1=a.data.data):i===t.type[2]&&(t.data2=a.data.data)})})},getTongbi:function(){var t=this;this.type.forEach(function(i){"WLW"!==i&&(console.log(location),t.$http.get(t.url+"/dataApiQuery/finance_ribao_daily_tongbi",{params:{index:t.mingcheng,day:t.day,business_type:i}}).then(function(a){i===t.type[0]?(t.tongbi1.zhi1=a.data.data[0][t.mingcheng],t.tongbi1.zhi2=a.data.data[0][t.mingcheng+"_huanbi"]):i===t.type[1]&&(t.tongbi2.zhi1=a.data.data[0][t.mingcheng],t.tongbi2.zhi2=a.data.data[0][t.mingcheng+"_huanbi"])}))})}},created:function(){this.title.time=this.day,this.getData(),this.getTongbi()},watch:{num:function(){switch(this.title.num=this.num,this.ind=0,this.str="finance_ribao_daily_yetai",this.getData(),console.log(this.num),this.num){case 3:this.mingcheng="gmv",this.getTongbi();break;case 1:this.mingcheng="shouru",this.getTongbi();break;case 2:this.mingcheng="maoli",this.getTongbi();break;case 0:this.mingcheng="order_num",this.getTongbi();break;default:this.mingcheng="gmv",this.getTongbi()}}}},l={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"showBar"},[a("div",{staticClass:"Header"},[a("div",{staticClass:"header-con"},t._l(t.btns,function(i,n){return a("span",{key:n,class:{active:t.ind===n},on:{click:function(i){t.changestr(n)}}},[t._v(t._s(i))])}))]),t._v(" "),a("ChartShow",{attrs:{biao:t.biaoti[0],i:1,tongbi:t.tongbi1,data:t.data,title:t.title,str:t.str}}),t._v(" "),a("ChartShow",{attrs:{biao:t.biaoti[1],i:2,tongbi:t.tongbi2,data:t.data1,title:t.title,str:t.str}}),t._v(" "),a("ChartShow",{attrs:{biao:t.biaoti[2],i:3,tongbi:t.tongbi3,data:t.data2,title:t.title,str:t.str,xuan:t.xuan}})],1)},staticRenderFns:[]};var d={name:"viewReport",components:{ShowBar:a("Z0/y")(h,l,!1,function(t){a("SXkH")},null,null).exports},data:function(){return{finance_ribao_summary:"",day:"",finance_ribao_daily_new:"",tiao:{show1:"",show2:""},num:"",cbg:0,url:""}},methods:{getlocation:function(){"http://qddata.qdingnet.com"===location.origin?this.url=location.origin:this.url=location.origin+"/ds"},getDate:function(){var t=new Date,i="";return t.getMonth()+1<10&&(i="0"+(t.getMonth()+1)),t.getFullYear()+"-"+i+"-"+(t.getDate()-2)},GetRequest:function(){var t=location.search,i=new Object;if(-1!=t.indexOf("?")){var a=t.substr(1);strs=a.split("&");for(var n=0;n<strs.length;n++)i[strs[n].split("=")[0]]=unescape(strs[n].split("=")[1])}return i},tiao1:function(){this.tiao.show1=this.finance_ribao_daily_new.gmv,this.tiao.show2=this.finance_ribao_daily_new.gmv_huanbi,this.num=3,this.cbg=1},tiao2:function(){this.tiao.show1=this.finance_ribao_daily_new.shouru,this.tiao.show2=this.finance_ribao_daily_new.shouru_huanbi,this.num=1,this.cbg=2},tiao3:function(){this.tiao.show1=this.finance_ribao_daily_new.maoli,this.tiao.show2=this.finance_ribao_daily_new.maoli_huanbi,this.num=2,this.cbg=3},tiao4:function(){this.tiao.show1=this.finance_ribao_daily_new.order_num,this.tiao.show2=this.finance_ribao_daily_new.order_num_huanbi,this.num=0,this.cbg=0}},created:function(){var t=this;this.getlocation(),this.day=this.GetRequest().day?this.GetRequest().day:this.getDate(),this.$http.get(this.url+"/dataApiQuery/finance_ribao_summary",{params:{day:this.day}}).then(function(i){t.finance_ribao_summary=i.data.data[0]}).catch(function(t){console.log(t)}),this.$http.get(this.url+"/dataApiQuery/finance_ribao_daily_new",{params:{day:this.day}}).then(function(i){t.finance_ribao_daily_new=i.data.data[0]}).catch(function(t){console.log(t)})}},_={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"box",attrs:{id:"box"}},[a("div",{staticClass:"main"},[a("div",{staticClass:"yesterday"},[a("div",[a("span",[t._v("截止昨日 ")]),a("span",{staticClass:"time"},[t._v(t._s(t.day))])]),t._v(" "),a("div",[t._v("当年累计")])]),t._v(" "),a("div",{staticClass:"dataList"},[a("div",[a("span",[t._v("订单量")]),a("span",[a("i",{attrs:{id:"order_num"}},[t._v(t._s(t.finance_ribao_summary.order_num?t.finance_ribao_summary.order_num.toLocaleString("en-US"):""))]),t._v("单")])]),t._v(" "),a("div",[a("span",[t._v("GMV")]),a("span",[a("i",{attrs:{id:"gmv"}},[t._v(t._s(t.finance_ribao_summary.gmv?t.finance_ribao_summary.gmv.toLocaleString("en-US"):""))]),t._v("元")])]),t._v(" "),a("div",[a("span",[t._v("收入")]),a("span",[a("i",{attrs:{id:"shouru"}},[t._v(t._s(t.finance_ribao_summary.shouru?t.finance_ribao_summary.shouru.toLocaleString("en-US"):""))]),t._v("元")])]),t._v(" "),a("div",[a("span",[t._v("毛利")]),a("span",[a("i",{attrs:{id:"maoli"}},[t._v(t._s(t.finance_ribao_summary.maoli?t.finance_ribao_summary.maoli.toLocaleString("en-US"):""))]),t._v("元")])])]),t._v(" "),a("div",{staticClass:"newDayUp"},[a("div",[a("span",[t._v("日新增 ")]),a("span",{staticClass:"time"},[t._v(t._s(t.day))])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"newDayUpData"},[a("div",{staticClass:"newday4",style:{background:0===t.cbg?"#f4f4f4":""},on:{click:t.tiao4}},[a("a",{attrs:{href:"#dbar"}},[a("p",[a("span",{staticClass:"price"},[a("em",{attrs:{id:"order_num1"}},[t._v(t._s(this.finance_ribao_daily_new.order_num?this.finance_ribao_daily_new.order_num.toLocaleString("en-US"):""))]),a("i",[t._v("单")])]),a("i",{staticClass:"active",class:this.finance_ribao_daily_new.order_num_huanbi/1>0?"up":"down",style:{color:this.finance_ribao_daily_new.order_num_huanbi/1>0?"red":"green"},attrs:{id:"order_num_huanbi1"}},[t._v(t._s(this.finance_ribao_daily_new.order_num_huanbi+"%"))])]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"newday1",style:{background:1===t.cbg?"#f4f4f4":""},on:{click:t.tiao1}},[a("a",{attrs:{href:"#dbar"}},[a("p",[a("span",{staticClass:"price"},[a("em",{attrs:{id:"gmv1"}},[t._v(t._s(this.finance_ribao_daily_new.gmv?this.finance_ribao_daily_new.gmv.toLocaleString("en-US"):""))]),a("i",[t._v("元")])]),a("i",{staticClass:"active",class:this.finance_ribao_daily_new.gmv_huanbi/1>0?"up":"down",style:{color:this.finance_ribao_daily_new.gmv_huanbi/1>0?"red":"green"},attrs:{id:"gmv_huanbi1"}},[t._v(t._s(this.finance_ribao_daily_new.gmv_huanbi+"%"))])]),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"newday2",style:{background:2===t.cbg?"#f4f4f4":""},on:{click:t.tiao2}},[a("a",{attrs:{href:"#dbar"}},[a("p",[a("span",{staticClass:"price"},[a("em",{attrs:{id:"shouru1"}},[t._v(t._s(this.finance_ribao_daily_new.shouru?this.finance_ribao_daily_new.shouru.toLocaleString("en-US"):""))]),a("i",[t._v("元")])]),a("i",{staticClass:"active",class:this.finance_ribao_daily_new.shouru_huanbi/1>0?"up":"down",style:{color:this.finance_ribao_daily_new.shouru_huanbi/1>0?"red":"green"},attrs:{id:"shouru_huanbi1"}},[t._v(t._s(this.finance_ribao_daily_new.shouru_huanbi+"%"))])]),t._v(" "),t._m(3)])]),t._v(" "),a("div",{staticClass:"newday3",style:{background:3===t.cbg?"#f4f4f4":""},on:{click:t.tiao3}},[a("a",{attrs:{href:"#dbar"}},[a("p",[a("span",{staticClass:"price"},[a("em",{attrs:{id:"maoli1"}},[t._v(t._s(this.finance_ribao_daily_new.maoli?this.finance_ribao_daily_new.maoli.toLocaleString("en-US"):""))]),a("i",[t._v("元")])]),a("i",{staticClass:"active",class:this.finance_ribao_daily_new.maoli_huanbi/1>0?"up":"down",style:{color:this.finance_ribao_daily_new.maoli_huanbi/1>0?"red":"green"},attrs:{id:"maoli_huanbi1"}},[t._v(t._s(this.finance_ribao_daily_new.maoli_huanbi+"%"))])]),t._v(" "),t._m(4)])])])]),t._v(" "),a("div",{attrs:{id:"dbar"}},[a("ShowBar",{attrs:{tiao:t.tiao,day:t.day,num:t.num}})],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("span",[i("img",{staticClass:"dayUp",attrs:{src:"",alt:""}})]),i("span",[this._v("环比增长")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"btm"},[i("span",[this._v("订单量")]),i("em",[i("img",{attrs:{src:"",alt:""}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"btm"},[i("span",[this._v("GMV")]),i("em",[i("img",{attrs:{src:"",alt:""}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"btm"},[i("span",[this._v("收入")]),i("em",[i("img",{attrs:{src:"",alt:""}})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("p",{staticClass:"btm"},[i("span",[this._v("毛利")]),i("em",[i("img",{attrs:{src:"",alt:""}})])])}]};var u=a("Z0/y")(d,_,!1,function(t){a("uF8B")},null,null).exports,m={name:"ChartShow",props:["data","i"],data:function(){return{option:{title:{left:"center",text:"大数据量面积图"},tooltip:{trigger:"axis",textStyle:{fontSize:15,color:"#fff"}},legend:{orient:"horizontal",bottom:"6%",itemGap:20,data:["高危","中危","低危"],textStyle:{color:"#fff"}},grid:{bottom:"20%",left:"15%",right:"9%",top:"7%"},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:["00:00:00","03:00:00","06:00:00"],axisLabel:{interval:0,show:!0,textStyle:{color:"#fff"}}}],yAxis:[{type:"value",axisLine:{show:!0},nameTextStyle:{color:"#fff"},axisLabel:{show:!0,textStyle:{color:"#fff"}}}],series:[{name:"高危",type:"line",smooth:!0,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(0, 255, 255, 0.9)"},{offset:.7,color:"rgba(0, 255, 255, 0.6)"}],!1),shadowColor:"rgba(0, 0, 0, 0.9)",shadowBlur:10}},symbolSize:8,itemStyle:{normal:{color:"rgb(0,255,255)"}},data:[2e3,122,3121]},{name:"中危",type:"line",smooth:!0,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(240, 231, 80, 0.9)"},{offset:.8,color:"rgba(240, 231, 80, 0.4)"}],!1),shadowColor:"rgba(0, 0, 0, 0.9)",shadowBlur:10}},symbolSize:8,itemStyle:{normal:{color:"rgb(240,231,80)"}},data:[1130,812,1134]}]}}},methods:{echartsShow:function(){this.$echarts.init(document.getElementById("main"+this.i)).setOption(this.option)},changeOption:function(){this.echartsShow()}},mounted:function(){this.changeOption()},watch:{data:function(){this.changeOption()}}},g={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"chartShow"},[i("div",{staticClass:"canvas",staticStyle:{width:"100%",height:"4.6rem"},attrs:{id:"main"+this.i}})])},staticRenderFns:[]};var f={name:"barDetail",components:{ChartsDetail:a("Z0/y")(m,g,!1,function(t){a("Qc6z")},null,null).exports},methods:{getData:function(){this.$http.get("http://devbigdata.qdingnet.com/ds/dataApiQuery/"+this.str,{params:{day:this.day,business_type:"item"}}).then(function(t){console.log(t)})}},created:function(){this.getData(),console.log(this.$route.params.userId)}},b={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"barDetail"},[this._v("\n    124235436465477\n    "),i("ChartsDetail",{attrs:{i:1}})],1)},staticRenderFns:[]};var p=a("Z0/y")(f,b,!1,function(t){a("mqrD")},null,null).exports;n.a.use(o.a);var y=new o.a({routes:[{path:"/",name:"viewReport",component:u},{path:"/details",name:"barDetail",component:p}]}),v=(a("Mx6H"),a("aozt")),w=a.n(v),S=a("5YEj"),x=a.n(S);n.a.prototype.$http=w.a,n.a.prototype.$echarts=x.a,n.a.config.productionTip=!1,new n.a({el:"#app",router:y,components:{App:s},template:"<App/>"})},Qc6z:function(t,i){},SXkH:function(t,i){},SfMx:function(t,i){},mqrD:function(t,i){},uF8B:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.681e15441d22832526e4.js.map