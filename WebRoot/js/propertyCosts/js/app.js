webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},o,!1,function(t){a("RLCs")},null,null).exports,i=a("/ocq"),r={name:"Bossfintop",props:["toptotalshow"],data:function(){return{prohvalue:0}},methods:{perHeight:function(){return(document.body.clientWidth-80)/3*(9/16)},fmoney:function(t,e){e=e>0&&e<=20?e:2;for(var a=(t=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(e)+"").split(".")[0].split("").reverse(),n=t.split(".")[1],o="",s=0;s<a.length;s++)o+=a[s]+((s+1)%3==0&&s+1!=a.length?",":"");var i=o.split("").reverse().join("")+"."+n;return 0==i.indexOf(",")&&(i=i.substring(1)),0==i.indexOf("-,")&&(i="-"+i.substring(2)),i}},created:function(){this.prohvalue=this.perHeight()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finatop",style:{height:.6636*t.prohvalue-40+"px"}},[a("div",[a("h4",[t._v("总缴纳金额")]),t._v(" "),a("span",[a("em",[t._v("￥")]),t._v(" "),a("i",[t._v(t._s(this.toptotalshow&&this.toptotalshow.gmv?this.fmoney(this.toptotalshow.gmv/1e4,2):"0.00"))]),t._v(" "),a("b",[t._v("万")])])]),t._v(" "),a("div",[a("h4",[t._v("优惠总金额")]),t._v(" "),a("span",[a("em",[t._v("￥")]),t._v(" "),a("i",[t._v(t._s(this.toptotalshow&&this.toptotalshow.youhui?this.fmoney(this.toptotalshow.youhui/1e4,2):"0.00"))]),t._v(" "),a("b",[t._v("万")])])]),t._v(" "),a("div",[a("h4",[t._v("总缴纳笔数")]),t._v(" "),a("span",[a("em"),t._v(" "),a("i",[t._v(t._s(this.toptotalshow&&this.toptotalshow.order_num?Number(this.toptotalshow.order_num).toLocaleString():0))]),t._v(" "),a("b",[t._v("笔")])])])])},staticRenderFns:[]};var h=a("VU/8")(r,d,!1,function(t){a("sRZ5")},"data-v-2f18361a",null).exports,l=a("mvHQ"),f=a.n(l),c={backgroundColor:"rgba(34,28,54,.8)",color:["#804eb1","#32a093"],title:{text:"",textStyle:{color:"#ffffff",fontWeight:100,fontSize:16},left:20,top:20},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}},right:26,top:60,iconStyle:{borderColor:"rgba(255,255,255,.8)"}},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{backgroundColor:"#6a7985"}}},legend:{data:["",""],top:63,textStyle:{color:"#ffffff"}},grid:{left:"3%",right:85,bottom:"3%",top:110,containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[""],nameTextStyle:{color:"#ffffff"},axisLine:{lineStyle:{color:"#ffffff"}}}],yAxis:[{type:"value",nameTextStyle:{color:"#ffffff"},axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{formatter:""}}],series:[{name:"",type:"line",areaStyle:{color:"#804eb1"},data:[0]},{name:"",type:"line",areaStyle:{color:"#32a093"},data:[0]}]},p={backgroundColor:"rgba(34,28,54,.8)",color:["#33d7b5"],title:{text:"",textStyle:{color:"#ffffff",fontWeight:100,fontSize:16},left:20,top:20},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}},right:26,top:60,iconStyle:{borderColor:"rgba(255,255,255,.8)"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:85,bottom:"3%",top:110,containLabel:!0},xAxis:[{type:"category",data:[""],nameTextStyle:{color:"#ffffff"},axisLine:{lineStyle:{color:"#ffffff"}}}],yAxis:[{type:"value",nameTextStyle:{color:"#ffffff"},axisLine:{lineStyle:{color:"#ffffff"}},axisLabel:{formatter:""}}],series:[{name:"",type:"bar",data:[0],markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]},u=a("Q9Q8");a("ehz7"),a("V+N5"),a("mSZg"),a("3V8A");var v={name:"Bossfintop",props:["type","handleafter"],data:function(){return{prohvalue:0}},methods:{perHeight:function(){return(document.body.clientWidth-80)/3*(9/16)},setchartsshow:function(t){var e=[["上月缴费单数","本月缴费单数"],["上月缴费总金额","本月缴费总金额"],"月度总缴费订单数","月度总缴费金额"],a=u.init(this.$refs.chartsshow),n=this.type>2?f()(p):f()(c),o=JSON.parse(n);a.showLoading({text:" ",effect:"whirling",color:"#fff",maskColor:"rgba(13,13,13, 0.6)"}),a.clear(),1==this.type?(o.toolbox.feature.restore.show=!1,o.toolbox.feature.dataZoom.show=!1,o.toolbox.feature.dataView.show=!1):o.toolbox.feature.dataZoom.show=!1,t&&(this.type<=2?(o.xAxis[0].data=t[1][0],o.series[0].data=t[0][1],o.series[0].name=e[this.type-1][0],o.series[1].data=t[0][0],o.series[1].name=e[this.type-1][1],o.legend.data=e[this.type-1],2==this.type&&(o.tooltip.formatter=this.toHtml.bind(this))):(o.xAxis[0].data=t[1][0],o.series[0].data=t[0][0],o.series[0].name=e[this.type-1],4==this.type&&(o.tooltip.formatter=this.toHtml.bind(this))),o.title.text=["日缴费订单数","日缴费金额","月度总缴费订单数","月度总缴费金额"][this.type-1],o.yAxis[0].axisLabel.formatter=function(t){return(t/1e3).toLocaleString()+"k"}),a.hideLoading(),a.setOption(o)},fmoney:function(t,e){e=e>0&&e<=20?e:2;for(var a=(t=parseFloat((t+"").replace(/[^\d\.-]/g,"")).toFixed(e)+"").split(".")[0].split("").reverse(),n=t.split(".")[1],o="",s=0;s<a.length;s++)o+=a[s]+((s+1)%3==0&&s+1!=a.length?",":"");var i=o.split("").reverse().join("")+"."+n;return 0==i.indexOf(",")&&(i=i.substring(1)),0==i.indexOf("-,")&&(i="-"+i.substring(2)),i},toHtml:function(t){for(var e="",a=0;a<t.length;a++)t[a].value&&(e+="<p>"+t[a].seriesName+": "+this.fmoney(t[a].value,2)+"</p>");return"<div><p>"+t[0].axisValue+"</p>"+e+"</div>"}},created:function(){this.prohvalue=this.perHeight()},mounted:function(){this.setchartsshow(),this.handleafter(this.setchartsshow)}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"finacharts"},[e("div",{ref:"chartsshow",style:{height:1.4*this.prohvalue+"px"}})])},staticRenderFns:[]};var y={name:"Bossfincon",props:["getenddats","getdatasafter"],components:{BossfinCharts:a("VU/8")(v,g,!1,function(t){a("R8PC")},"data-v-b924b9a8",null).exports},data:function(){return{prohvalue:0,curstartdate:"",curenddate:"",laststartdate:"",lastenddate:"",chartsnums:0}},methods:{perHeight:function(){return(document.body.clientWidth-80)/3*(9/16)},curandlastdate:function(){var t=(new Date).getFullYear(),e=(new Date).getMonth()+1,a=(new Date).getDate()-1==0?(new Date).getDate():(new Date).getDate()-1;if(this.curstartdate=t+"-"+(e<10?"0"+e:e)+"-01",this.curenddate=t+"-"+(e<10?"0"+e:e)+"-"+(a<10?"0"+a:a),e-1==0)this.laststartdate=t-1+"-12-01",this.lastenddate=t-1+"-12-31";else{if(e-1==2)year%4==0&&year%100!=0||year%400==0?(this.laststartdate=t+"-02-01",this.lastenddate=t+"-02-29"):(this.laststartdate=t+"-02-01",this.lastenddate=t+"-02-28");else{var n=e-1<10?"0"+(e-1):e-1;[1,3,5,7,8,10,12].indexOf(e-1)>=0?(this.laststartdate=t+"-"+n+"-01",this.lastenddate=t+"-"+n+"-31"):[4,6,9,11].indexOf(e-1)>=0&&(this.laststartdate=t+"-"+n+"-01",this.lastenddate=t+"-"+n+"-30")}}this.getenddats(this.curenddate,this.lastenddate)},handledatas:function(t,e){var a=[this.conversion(t[0],"order_num"),this.conversion(t[1],"order_num")],n=[this.conversion(t[0],"date").length>this.conversion(t[1],"date").length?this.conversion(t[0],"date"):this.conversion(t[1],"date")],o=[this.conversion(t[0],"gmv"),this.conversion(t[1],"gmv")],s=[this.conversion(t[0],"date").length>this.conversion(t[1],"date").length?this.conversion(t[0],"date"):this.conversion(t[1],"date")],i=[this.conversion(e[0],"order_num")],r=[this.conversion(e[0],"date")],d=[this.conversion(e[0],"gmv")],h=[this.conversion(e[0],"date")],l=[];l.push([a,n]),l.push([o,s]),l.push([i,r]),l.push([d,h]),this.childfun1(l[0]),this.childfun2(l[1]),this.childfun3(l[2]),this.childfun4(l[3])},conversion:function(t,e){for(var a=[],n=0;n<t.length;n++)a.push(t[n][e]?t[n][e]:0);return a},handleafter_1:function(t){this.childfun1=t},handleafter_2:function(t){this.childfun2=t},handleafter_3:function(t){this.childfun3=t},handleafter_4:function(t){this.childfun4=t}},created:function(){this.chartsnums=4,this.curandlastdate(),this.prohvalue=this.perHeight(),this.getdatasafter(this.handledatas)}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"finacon"},[a("h3",[t._v("趋势对比"),a("span",[t._v("("+t._s(t.laststartdate)+"至"+t._s(t.lastenddate)+"对比"+t._s(t.curstartdate)+"至"+t._s(t.curenddate)+")")])]),t._v(" "),a("div",{staticClass:"finacon_charts",style:{height:2.8*t.prohvalue+30+"px"}},[a("div",{style:{height:1.4*t.prohvalue+"px"}},[a("bossfin-charts",{attrs:{type:1,handleafter:this.handleafter_1}})],1),t._v(" "),a("div",{style:{height:1.4*t.prohvalue+"px"}},[a("bossfin-charts",{attrs:{type:2,handleafter:this.handleafter_2}})],1),t._v(" "),a("div",{style:{height:1.4*t.prohvalue+"px"}},[a("bossfin-charts",{attrs:{type:3,handleafter:this.handleafter_3}})],1),t._v(" "),a("div",{style:{height:1.4*t.prohvalue+"px"}},[a("bossfin-charts",{attrs:{type:4,handleafter:this.handleafter_4}})],1)])])},staticRenderFns:[]};var _={name:"Bossfin",components:{BossfinTop:h,BossfinCon:a("VU/8")(y,m,!1,function(t){a("qzfO")},"data-v-22717272",null).exports},data:function(){return{curenddate:"",lastenddate:"",toptotalshow:""}},methods:{getenddats:function(t,e){this.curenddate=t,this.lastenddate=e},getlocation:function(){return"qddata.qdingnet.com"===location.host?location.origin+"/getHttpData?url=":"qa-qddata.bigdata.qdingnet.com"===location.host?location.origin+"/getHttpData?url=":"http://dev-qddata.bigdata.qdingnet.com/getHttpData?url="},proxy:function(t,e){var a="?";for(var n in e)a+=n+"="+e[n]+"&";return"?"==a&&(a=""),"qddata.qdingnet.com"===location.host?encodeURIComponent("http://yushanfang.bigdata.qdingnet.com"+t+a):"qabigdata.qdingnet.com"===location.host?encodeURIComponent("http://qa-yushanfang.bigdata.qdingnet.com"+t+a):encodeURIComponent("http://dev-yushanfang.bigdata.qdingnet.com"+t+a)},getalldatas:function(){var t=this;this.$http.get(this.getlocation()+this.proxy("/dataApiQuery/qintianjian_c_order_wuyejiaofei",{dt:this.curenddate})).then(function(e){if(e.data&&e.data.data&&""!=e.data.data&&0!=e.data.data.length){for(var a=e.data.data,n=[],o=[],s=[],i=[],r=0;r<a.length;r++)"zong"==a[r].data_type?t.toptotalshow=a[r]:"group_day"==a[r].data_type?n.push(a[r]):"month"==a[r].data_type&&o.push(a[r]);s.push(n),i.push(o),t.$http.get(t.getlocation()+t.proxy("/dataApiQuery/qintianjian_c_order_wuyejiaofei",{dt:t.lastenddate})).then(function(e){if(e.data&&e.data.data&&""!=e.data.data&&0!=e.data.data.length){for(var a=e.data.data,n=[],o=0;o<a.length;o++)"group_day"==a[o].data_type&&n.push(a[o]);s.push(n),t.childfun(s,i)}else s.push([]),i.push([]),t.childfun(s,i)})}else t.toptotalshow="",t.childfun([[],[]],[[],[]])})},getdatasafter:function(t){this.childfun=t}},created:function(){},mounted:function(){this.getalldatas()}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"finsta"},[e("bossfin-top",{attrs:{toptotalshow:this.toptotalshow}}),this._v(" "),e("bossfin-con",{attrs:{getenddats:this.getenddats,getdatasafter:this.getdatasafter}})],1)},staticRenderFns:[]};var b=a("VU/8")(_,x,!1,function(t){a("VnVt")},"data-v-eac20400",null).exports;n.a.use(i.a);var w=new i.a({routes:[{path:"/",name:"Bossfin",component:b}]}),C=a("aozt"),S=a.n(C),q=(a("dxhy"),a("P8yQ")),A=a.n(q);n.a.prototype.$http=S.a,n.a.prototype.$echarts=A.a,n.a.config.productionTip=!1,new n.a({el:"#app",router:w,components:{App:s},template:"<App/>"})},R8PC:function(t,e){},RLCs:function(t,e){},VnVt:function(t,e){},dxhy:function(t,e){},qzfO:function(t,e){},sRZ5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map